module.exports=function(e){var t={};function n(u){if(t[u])return t[u].exports;var r=t[u]={i:u,l:!1,exports:{}};return e[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,u){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:u})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.w={},n(n.s=15)}([function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";e.exports={port:process.env.PORT||5e3,databaseUrl:"mongodb://ierso:6035cp!@ds211440.mlab.com:11440/cocktails-db",googleClientID:"21187341593-lc5go41k600chrj3rkm57hqjumjbao3j.apps.googleusercontent.com",googleClientSecret:"7yOiDOH1Ah8XUztgkUahE7md"}},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u,r=n(0),o=(u=r)&&u.__esModule?u:{default:u};var a=new r.Schema({googleID:{type:String,required:!0},email:{type:String,required:!0},firstName:{type:String},lastName:{type:String}});t.default=o.default.model("users",a)},function(e,t){e.exports=require("passport-google-oauth20")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.use(new s({clientID:i,clientSecret:l,callbackURL:"/auth/google/callback",proxy:!0},function(e,t,n,u){var r={googleID:n.id,firstName:n.name.givenName,lastName:n.name.familyName,email:n.emails[0].value};o.default.findOne({googleID:n.id}).then(function(e){e?u(null,e):new o.default(r).save().then(function(e){return u(null,e)})})})),e.serializeUser(function(e,t){t(null,e.id)}),e.deserializeUser(function(e,t){o.default.findById(e).then(function(e){return t(null,e)})})};var u=a(n(6)),r=(a(n(0)),a(n(2))),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.googleClientID,l=r.default.googleClientSecret,s=u.default.Strategy},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u,r=n(0),o=(u=r)&&u.__esModule?u:{default:u};var a=new r.Schema({name:{type:String,required:!0},drinkID:{type:Number,required:!0},rating:{type:Number,required:!0},date:{type:Date,default:Date.now},user:{type:r.Schema.Types.ObjectId,ref:"users"}});t.default=o.default.model("cocktails",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e.user)return t.status(401).send({error:"You must log in"});n()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(1)),r=a(n(9)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var i=u.default.Router();i.get("/",r.default,function(e,t){o.default.find({user:e.user.id}).sort({date:"desc"}).then(function(e){t.send(e)})}),i.get("/:id",function(e,t){o.default.find({drinkID:e.params.id}).then(function(e){t.send(e)})}),i.delete("/:id",function(e,t){o.default.remove({_id:e.params.id}).then(function(){t.send({message:"Deleted"})})}),i.post("/",r.default,function(e,t){var n=e.body,u=n.name,r=n.drinkID,a=n.rating,i=(n.user,{name:u,drinkID:r,rating:a,user:e.user._id});new o.default(i).save().then(function(e){t.send(e)})}),i.put("/:id",r.default,function(e,t){o.default.findById(e.params.id).then(function(n){var u=e.body,r=u.name,o=u.drinkID,a=u.rating,i=(u.date,u.user);n.name=r||n.name,n.drinkID=o||n.drinkID,n.rating=a||n.rating,n.user=i||n.user,n.date=Date.now(),n.save().then(function(e,n){n&&t.status(500).send(n),t.status(200).send(e)})})}),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(1)),r=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var a=u.default.Router();a.get("/google",r.default.authenticate("google",{scope:["profile","email"]})),a.get("/google/callback",r.default.authenticate("google",{failureRedirect:"/"}),function(e,t){t.redirect("/")}),a.get("/verify",function(e,t){t.send(e.user)}),a.get("/logout",function(e,t){e.logout(),t.redirect("/")}),t.default=a},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("cookie-parser")},function(e,t,n){"use strict";var u=g(n(1)),r=g(n(0)),o=g(n(3)),a=g(n(14)),i=g(n(13)),l=g(n(12)),s=g(n(2)),d=g(n(11)),c=g(n(10)),f=g(n(7));function g(e){return e&&e.__esModule?e:{default:e}}var p=s.default.databaseUrl,m=s.default.port,v=(0,u.default)();v.use(function(e,t,n){t.setHeader("Cache-Control","no-cache"),n()}),v.use(l.default.urlencoded({extended:!1})),v.use(l.default.json()),v.use((0,a.default)()),v.use((0,i.default)({secret:"secret",resave:!1,saveUninitialized:!1})),v.use(o.default.initialize()),v.use(o.default.session()),v.use(function(e,t,n){t.locals.user=e.user||null,n()}),r.default.connect(p).then(function(){return console.log("mongoDb connected")}).catch(function(e){return console.log(e)}),r.default.Promise=global.Promise,(0,f.default)(o.default),v.use("/auth",d.default),v.use("/cocktails",c.default),v.disable("x-powered-by"),v.use(u.default.static("client/build"));var b=n(4);v.get("*",function(e,t){t.sendFile(b.resolve("../client/build/index.html"))}),v.listen(m)}]);